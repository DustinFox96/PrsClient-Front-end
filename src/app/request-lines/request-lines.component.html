<app-menu></app-menu>

<div>
    <span>Request Lines</span>
     <hr>
</div>
<table class="table table-sm"  *ngIf="request">
    <tr>
        <th>Id</th>
        <th>Description</th>
        <th>Status</th>
        <th>Total</th>
        <th>User</th>
        <th>Action</th>
    </tr>

    <tr>
        <td>{{request.id}}</td>
        <td>{{request.description}}</td>
        <td>{{request.status}}</td>
        <td>{{request.total}}</td>
        <td>{{request.user.firstname}}</td>
        <td>
           <button (click)="reviewStatus()" class="btn btn-primary">review</button>
        </td>
    </tr>
</table>

<hr>

<div *ngIf="request">
    <span>Requestlines</span> |
    <span><a routerLink="/requests/lines-create/{{request.id}}">Create</a></span>
</div>
<table class="table table-sm" *ngIf="request">
    <tr>
        <th>Id</th>
        <th>Product</th>
        <th>Qauntity</th>
        <th>price</th>
        <th>Line Total</th>
        <th>Actions</th>
    </tr>

    <tr *ngFor="let line of request.requestLines">
        <td>{{line.id}}</td>
        <td>{{line.product.name}}</td>
        <td>{{line.quantity}}</td>
        <td>{{line.product.price}}</td>
        <td>{{line.product.price * line.quantity}}</td>
        <td>
            <a routerLink="/request/lines-edit/{{line.id}}">Edit</a> |
            <button (click)="delete(line)" class=" btn btn-danger">Delete</button>
        </td>
    
    </tr>
</table>